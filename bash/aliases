#!/usr/bin/env bash

# Easier navigation: .., ..., ...., ....., ~ and -
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."
alias -- -="cd -"

# Shortcuts
alias d="cd ~/Documents/Dropbox"
alias p="cd ~/Projects"
alias g="git"
alias h="history"
alias v="vim -o"
alias s="subl ."
alias o="open"
alias oo="open ."
alias c='drawline'
alias reload='source ~/.bash_profile'
alias rel='reload'

alias h='fc -l'
alias m='less'

# GIT & SVN
alias gd='git diff | colordiff'
alias gds='git diff --staged | colordiff'
alias sd='svn diff | colordiff'

# Detect which `ls` flavor is in use
if ls --color > /dev/null 2>&1; then # GNU `ls`
colorflag="--color"
else # OS X `ls`
colorflag="-G"
fi

# Listing
alias l="ls -l ${colorflag}"
alias ll="ls -laFo"
alias la="ls -la ${colorflag}"
alias lsd='ls -l ${colorflag} | grep "^d"'
alias ltr='ls -ltr'

# Always use color output for `ls`
alias ls="command ls ${colorflag}"

export LS_COLORS='di=34:ln=35:ex=1;32:*.js=33:*.css=33:*.gz=31:*.tar=31:*.tgz=31:*.zip=31:*.bz2=31:*.deb=31:*.rpm=31:*.jar=31:*.png=32:*.jpg=32:*.jpeg=32:*.svg=32'

_expand()
{
    return 0;
}

# Misc
alias mine='sudo chown -R $USER:www .'

# Draws horizontal line and clears sreen
drawline()
{
    SEPARATOR="-"
    WIDTH=$(tput cols);
    echo -e "\033[$(($RANDOM % 7 + 31))m"
    ST=""
    for ((i=0; i<$WIDTH; i++)); do ST+=$SEPARATOR ; done
    echo $ST
    echo -e $RESET
    clear
}

# Universal make
if [[ `which gmake` != '' ]]; then
    alias make='gmake'
else
    alias gmake='make'
fi

# Universal ack
if [[ `which 'ack-grep'` != '' ]]; then
    alias ack='ack-grep'
fi
